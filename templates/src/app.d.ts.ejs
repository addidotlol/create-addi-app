// See https://svelte.dev/docs/kit/types#app.d.ts[]
// for information about these interfaces
//
<% if (auth) { %>import type InitAuth from '$lib/server/auth';<% } %>
<% if (database) { %>import type { getDrizzle } from '$lib/server/db';<% } %>

declare global {
	namespace App {
		interface Platform {
			env: Env;
			cf: CfProperties;
			ctx: ExecutionContext;
		}

		<% if (auth) { %>type BetterAuth = ReturnType<typeof InitAuth>;
		interface Authentication extends BetterAuth {
			session?: NonNullable<Awaited<ReturnType<BetterAuth['api']['getSession']>>>['session'];
			user?: NonNullable<Awaited<ReturnType<BetterAuth['api']['getSession']>>>['user'];
		}<% } %>

		interface Locals {
			<% if (auth) { %>auth: Authentication;<% } %>
			<% if (database) { %>database: ReturnType<typeof getDrizzle>;<% } %>
		}
	}
}

export {};
